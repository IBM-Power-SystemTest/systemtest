{% extends 'quality/base_table.html' %}

{% load measures %}
{% load types %}

{% block subtitle %} History {% endblock subtitle %}

{% block table_title %} HISTORY {% endblock table_title %}

{% block columns %}
  {% to_list "System" "WorkUnit" "Quantity" "Product Line" "Machine Type" "Operation Number" "Created" "Status" "Comment" "User" as column_names %}
  {% include 'utils/tables/column_names.html' with column_names=column_names %}
  {% block extra_columns %} {% endblock extra_columns %}
{% endblock columns %}

{% block table_body %}
  {% for system in object_list %}
    <tr class="table__row">
      <td> {{ system.system.system_number }} </td>
      <td> {{ system.system.workunit }} </td>
      <td> {{ system.system.workunit_qty }} </td>
      <td> {{ system.system.product_line }} </td>
      <td> {{ system.system.machine_type | default_if_none:"" }} {{ system.system.system_model | default_if_none:"" }} </td>
      <td> {{ system.operation_number }} {{ system.operation_status }} </td>
      <td> {{ system.created | timesince }} </td>
      <td> {{ system.quality_status }} </td>
      <td> {{ system.comment | default_if_none:"" }} </td>
      <td> {{ system.user | default_if_none:"" }} </td>
    </tr>
  {% endfor %}
{% endblock table_body %}

{% block button %} {% endblock button %}

{% block pagination %}
  {% include 'utils/basic/pagination.html' with page_obj=page_obj %}
{% endblock pagination %}
